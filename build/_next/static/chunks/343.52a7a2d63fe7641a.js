(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[343],{5223:function(e,r,n){"use strict";n.d(r,{s:function(){return i}});var t=n(7294);function i(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=(0,t.useRef)(0),n=(0,t.useRef)(0),i=(0,t.useRef)(0),u=(0,t.useRef)([]),a=(0,t.useRef)(!1);(0,t.useEffect)((function(){n.current=performance.now(),i.current=0,u.current=[]}),[e]);var c=(0,t.useCallback)((function(){var e=performance.now();i.current=i.current+1,e>=n.current+100&&(r.current=100*i.current/(e-n.current)*10,u.current.push(r.current),n.current=e,i.current=0),u.current.length<=9||(u.current=u.current.slice(-9),u.current.every((function(e){return e<60}))&&(a.current=!0),u.current.every((function(e){return e>70}))&&(a.current=!1))}),[]);return{measureFps:c,fps:r,isLowFps:a}}},7460:function(e,r,n){"use strict";n.r(r),n.d(r,{Armor:function(){return Z}});var t=n(7568),i=n(1799),u=n(9396),a=n(9534),c=n(828),o=n(4051),s=n.n(o),f=n(5893),l="/_next/static/media/volkihar-cube-nx.6150c9af.jpg",v="/_next/static/media/volkihar-cube-ny.f2c25620.jpg",d="/_next/static/media/volkihar-cube-nz.094dd0b3.jpg",p="/_next/static/media/volkihar-cube-px.cb007f0e.jpg",m="/_next/static/media/volkihar-cube-py.46d12f37.jpg",h="/_next/static/media/volkihar-cube-pz.e7c6feeb.jpg",w=n.p+"static/media/volkihar-knight.d62f417b.glb",y=n(7206),x=n(3994),g=n(7260),b=n(6240),_=n(7378),k=n(4529),R=n(5223),C=n(7294),S=n(9477);const j=[];for(let A=0;A<256;A++)j[A]=(A<16?"0":"")+A.toString(16);const E=Math.PI/180;Math.PI;var P=n(2362),L=n(3142),z=n(3934),M=n.n(z),N={stiffness:40,damping:20,mass:1.5},Z=function(e){var r=e.showDelay,n=void 0===r?0:r,o=e.cameraPosition,j=void 0===o?{x:0,y:0,z:6}:o,z=e.className,Z=e.alt,A=(0,a.Z)(e,["showDelay","cameraPosition","className","alt"]),F=(0,C.useState)(!1),O=F[0],T=F[1],q=(0,C.useState)(!1),D=q[0],J=q[1],H=(0,C.useState)(!1),I=H[0],W=H[1],B=(0,C.useRef)(),U=(0,C.useRef)(),Y=(0,C.useRef)(),G=(0,C.useRef)(),K=(0,C.useRef)(),V=(0,C.useRef)(),X=(0,C.useRef)(),Q=(0,k.NM)(B,!1,{threshold:.4}),$=(0,b.J)(),ee=(0,_.q)(0,N),re=(0,_.q)(0,N),ne=(0,R.s)(Q),te=ne.measureFps,ie=ne.isLowFps;(0,C.useEffect)((function(){var e=B.current,r=e.clientWidth,n=e.clientHeight;V.current=new S.CP7({canvas:U.current,alpha:!0,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0}),V.current.setPixelRatio(2),V.current.setSize(r,n),V.current.outputEncoding=S.knz,V.current.physicallyCorrectLights=!0,V.current.toneMapping=S.LY2,Y.current=new S.cPb(36,r/n,.1,100),Y.current.position.set(j.x,j.y,j.z),K.current=new S.xsS;var i=new S.cBK;G.current=new S.ZAu,K.current.add(G.current);var u=new S.anP(V.current);u.compileCubemapShader();var a=new S.Ox3(16777215,3.2),o=new S.Ox3(16777215,1),f=new S.Ox3(16777215,1);a.position.set(1,.1,2),o.position.set(-1,.1,8),f.position.set(-2,2,-3),X.current=[f,a,o],X.current.forEach((function(e){return K.current.add(e)}));var y=function(){var e=(0,t.Z)(s().mark((function e(){var r,n,a,o,f,y;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=L.Zf.loadAsync(w),n=i.loadAsync([l,v,d,p,m,h]),e.t0=c.Z,e.next=5,Promise.all([r,n]);case 5:return e.t1=e.sent,a=(0,e.t0)(e.t1,2),o=a[0],f=a[1],G.current.add(o.scene),o.scene.rotation.y=180*E,o.scene.position.y=-1.6,y=u.fromCubemap(f).texture,K.current.environment=y,u.dispose(),e.next=17,V.current.initTexture(K.current.environment);case 17:G.current.traverse(function(){var e=(0,t.Z)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.material){e.next=3;break}return e.next=3,V.current.initTexture(r.material);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),T(!0),ue();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,C.startTransition)((function(){y(),setTimeout((function(){W(!0)}),1e3)}));var x=ee.onChange((function(e){G.current.rotation.x=e,ue()})),g=re.onChange((function(e){G.current.rotation.y=e,ue()}));return function(){(0,L.Ji)(X.current),(0,L.in)(K.current),(0,L.e8)(V.current),x(),g()}}),[]);var ue=(0,C.useCallback)((function(){V.current.render(K.current,Y.current),te(),ie.current?V.current.setPixelRatio(1):V.current.setPixelRatio(2)}),[te,ie]);return(0,C.useEffect)((function(){var e=function(e){var r=window.innerWidth,n=window.innerHeight,t=(e.clientX-r/2)/r,i=(e.clientY-n/2)/n;ee.set(i/2),re.set(t/2)};return Q&&J(!0),Q&&!$&&window.addEventListener("mousemove",e),function(){window.removeEventListener("mousemove",e)}}),[Q,$,ee,re]),(0,C.useEffect)((function(){var e=function(){if(B.current){var e=B.current,r=e.clientWidth,n=e.clientHeight;V.current.setSize(r,n),Y.current.aspect=r/n,Y.current.updateProjectionMatrix(),ue()}};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[ue]),(0,f.jsxs)("div",(0,u.Z)((0,i.Z)({className:(0,P.Sh)(M().armor,z),ref:B,role:"img","aria-label":Z},A),{children:[(0,f.jsx)(g.u,{unmount:!0,in:!O&&I,timeout:(0,P.zG)(x.T.base.durationL),children:function(e){return(0,f.jsx)(y.a,{className:M().loader,"data-visible":e})}}),(0,f.jsx)("canvas",{className:M().canvas,ref:U,"data-loaded":O&&D,style:(0,P.Fh)({delay:(0,P.aU)(n)})})]}))}},3142:function(e,r,n){"use strict";n.d(r,{Et:function(){return s},Ji:function(){return d},Zf:function(){return o},e8:function(){return v},in:function(){return f},x2:function(){return p}});var t=n(9477),i=n(4976),u=n(7607);t.CtF.enabled=!0;var a=new i._,c=new u.E;a.setDecoderPath("/draco/"),c.setDRACOLoader(a);var o=c,s=new t.dpR,f=function(e){null===e||void 0===e||e.traverse((function(e){if(e.isMesh)if(e.geometry.dispose(),e.material.isMaterial)l(e.material);else{var r=!0,n=!1,t=void 0;try{for(var i,u=e.material[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var a=i.value;l(a)}}catch(c){n=!0,t=c}finally{try{r||null==u.return||u.return()}finally{if(n)throw t}}}}))},l=function(e){e.dispose();var r=!0,n=!1,t=void 0;try{for(var i,u=Object.keys(e)[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var a,c,o,s=e[i.value];if(s&&"object"===typeof s&&"minFilter"in s)s.dispose(),null===(a=s.source)||void 0===a||null===(c=a.data)||void 0===c||null===(o=c.close)||void 0===o||o.call(c)}}catch(f){n=!0,t=f}finally{try{r||null==u.return||u.return()}finally{if(n)throw t}}},v=function(e){e.dispose(),e=null},d=function(e){var r=!0,n=!1,t=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var a=i.value;a.parent.remove(a)}}catch(c){n=!0,t=c}finally{try{r||null==u.return||u.return()}finally{if(n)throw t}}},p=function(e,r){var n;return r.traverse((function(r){r.name===e&&(n=r)})),n}},3934:function(e){e.exports={armor:"Armor_armor__npq42",loader:"Armor_loader___wk2y",canvas:"Armor_canvas__Oe927"}},7378:function(e,r,n){"use strict";n.d(r,{q:function(){return l}});var t=n(655),i=n(7294),u=n(754),a=n(406),c=n(3234),o=n(6014),s=n(6681);var f=n(8868);function l(e,r){void 0===r&&(r={});var n=(0,i.useContext)(o._).isStatic,l=(0,i.useRef)(null),v=function(e){var r=(0,s.h)((function(){return(0,c.B)(e)}));if((0,i.useContext)(o._).isStatic){var n=(0,t.CR)((0,i.useState)(e),2)[1];(0,i.useEffect)((function(){return r.onChange(n)}),[])}return r}((0,a.i)(e)?e.get():e);return(0,i.useMemo)((function(){return v.attach((function(e,i){return n?i(e):(l.current&&l.current.stop(),l.current=(0,u.j)((0,t.pi)((0,t.pi)({from:v.get(),to:e,velocity:v.getVelocity()},r),{onUpdate:i})),v.get())}))}),[JSON.stringify(r)]),function(e,r){(0,f.L)((function(){if((0,a.i)(e))return e.onChange(r)}),[r])}(e,(function(e){return v.set(parseFloat(e))})),v}}}]);